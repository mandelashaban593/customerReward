
{% extends "Reward/base.html" %}

{% load static %}


<!--     for  django bootstrap themes
-->

{% block javascript %}
<script src="{% static 'books/js/books.js' %}"></script>


<script type="text/javascript">
$( document ).ready( function() {
$( '#q' ).keyup( function() {
q = $( '#q' ).val();
$( '#results' ).html( '&nbsp;' ).load( '{% url 'Reward:search' %}?q=' + q );
});
});

</script>


{% endblock %}


{% block content %} 
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>

<script type="text/javascript">





$(document).ready(function(){
// Check Radio-box
$(".rating input:radio").attr("checked", false);

$('.rating input').click(function () {
$(".rating span").removeClass('checked');
$(this).parent().addClass('checked');
});

$('input:radio').change(
function(){
var userRating = this.value;
if(userRating==9){
$("#free").show();
} else {
$("#free").hide();
}
/*alert(userRating);*/
}); 
});
</script>

<link rel="stylesheet" type="text/css" href="{}">
<link rel="stylesheet" href="{% static 'Reward/css/rating/style.css' %}">
<link rel="stylesheet" href="{% static 'Reward/css/rating/demo.css' %}">


<style type="text/css">
.rating {
float:left;
width:300px;
}
.rating span { float:right; position:relative; }
.rating span input {
position:absolute;
top:0px;
left:0px;
opacity:0;
}
.rating span label {
display:inline-block;
width:30px;
height:30px;
text-align:center;
color:#FFF;
background:#ccc;
font-size:30px;
margin-right:2px;
line-height:30px;
border-radius:50%;
-webkit-border-radius:50%;
}
.rating span:hover ~ span label,
.rating span:hover label,
.rating span.checked label,
.rating span.checked ~ span label {
background:#F90;
color:#FFF;
}

.form-control {
display: block;
width: 100%;
height: calc(1.5em + 0.75rem + 2px);
padding: 0.375rem 0.75rem;
font-size: 1rem;
font-weight: 400;
line-height: 1.5;
color: #495057;
background-color: #fff;
background-clip: padding-box;
border: 1px solid #ced4da;
border-radius: 0.25rem;
transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

select {
word-wrap: normal;
}
button, select {
text-transform: none;
}

input, button, select, optgroup, textarea {
margin: 0;
font-family: inherit;
font-size: inherit;
line-height: inherit;
}

#hidden_div {
display: none;
}




rating > input:checked ~ label {
color: #F00;
}
.rating:not(:checked) > label {
float: right;
width: 1em;
padding: 0 .1em;
overflow: hidden;
white-space: nowrap;
cursor: pointer;
font-size: 600%;
line-height: 1.2;
color: #ddd;
}
label {
display: inline-block;
margin-bottom: 0.5rem;
}
* {
font-family: 'Nunito', sans-serif;
}



</style>

<style type="text/css">
    div.stars {

  width: 270px;

  display: inline-block;

}

 

input.star { display: none; }

 

label.star {

  float: right;

  padding: 10px;

  font-size: 36px;

  color: #444;

  transition: all .2s;

}

 

input.star:checked ~ label.star:before {

  content: '\f005';

  color: #FD4;

  transition: all .25s;

}

 
input.star-5:checked ~ label.star:before {

  color: #FE7;

  text-shadow: 0 0 20px #952;

}

 

input.star-1:checked ~ label.star:before { color: #F62; }

 

label.star:hover { transform: rotate(-15deg) scale(1.3); }

 

label.star:before {

  content: '\f006';

  font-family: FontAwesome;

}



</style>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet"/>



<!-- Start:- Content Section -->

<!-- Start:- Content Section 02 -->
<div class="col-md-12 akits-content-main" id="aConM">
<!-- Start:- Breadcrumb and Buttons -->
<div class="row m-0">

<!-- Start:- Breadcrumb -->
<div class="col-md-6 col-lg-10 p-0 breadcrumb-main-div">

<ul class="breadcrumb p-3">
<li class="breadcrumb-item"><a href="{% url 'Reward:dashboard' %}">Dashboard</a></li>
<li class="breadcrumb-item active">Customers</li>
</ul>

</div>
<!-- End:- Breadcrumb -->

<!-- Start:- Control Buttons -->
<div class="col-md-6 col-lg-2 control-btn-div">

<a href="{% url 'Reward:customer_dash' %}" class="btn btn-dark m-1">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
<path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
</svg>

</a>

<button class="btn btn-dark m-1" onClick="Refresh()">

<i class="fa fa-redo" aria-hidden="true"></i>


</button>
<!-- <i class="fas fa-search"></i> -->



<!-- Start:: Create Customers-->


<!-- end:: Create Customers-->


</div>
<!-- End:- Control Buttons -->

</div>
<!-- End:- Breadcrumb and Buttons -->




<form method="post" enctype="multipart/form-data" class="form-horizontal"  action="{% url 'Reward:rating'  %}"  id="identicalForm">
<!-- Start:: Header -->

<!-- End:: Header -->



<div class="form-group ">
{% if addedscore %}
<label style="color: #856404;
background-color: #fff3cd;
border-color: #ffeeba;">Well done! Successfully added  score! </label>

{% endif %}

</select>


</div>


<!-- Start:: Body -->
<div class="modal-body"  style="">
<div class="form-group">
<label> Search Customer :</label>

<input id="q" type="text" name="fname" placeholder="Search Customer" />

</div>

<label>Customer :</label>
<div class="form-group"  >

<select name="customer_id"  size="3" required="required" class="form-control" id="results"  onchange="showDiv('hidden_div', this)">

<option disabled="">Please search !</option>

</select>



</div>


<div class="form-group ">
<div class="container" id="rewardContainer" style="display: none">
<div class="row justify-content-center" >

</div>

<div class="row" id="reward">

</div>
</div>
</div>


</div>
<!-- End:: Body -->




<div class="form-group" style="display:none; margin-top: 20px;float:right; margin-right:700px;margin-bottom: 20px;" id="free">

<div  class="display: table ">
<label> <img src="{% static 'img/free.png' %}" style="width:100px"></label>

<input id="results"  name="free_product" type="text" placeholder="Free item"  value=""  class="form-control row" style="with:0px" />
</div>

</div>


<div id="hidden_div" class="row" style="margin-bottom:100;margin-top:200px">
     <input class="star star-9" id="star-9" type="radio" value="9" name="rating"/>

    <label class="star star-9" for="star-9"></label>


    <input class="star star-8" id="star-8" type="radio" value="8" name="rating"/>

    <label class="star star-8" for="star-8"></label>


    <input class="star star-7" id="star-7" type="radio" value="7" name="rating"/>

    <label class="star star-7" for="star-7"></label>

    <input class="star star-6" id="star-6" type="radio" value="6" name="rating"/>

    <label class="star star-6" for="star-6"></label>


     <input class="star star-5" id="star-5" type="radio" name="rating" value="5"/>

    <label class="star star-5" for="star-5"></label>

    <input class="star star-4" id="star-4" type="radio" name="rating" value="4"/>

    <label class="star star-4" for="star-4"></label>

    <input class="star star-3" id="star-3" type="radio" name="rating" value="3"/>

    <label class="star star-3" for="star-3"></label>

    <input class="star star-2" id="star-2" type="radio" name="rating" value="2"/>

    <label class="star star-2" for="star-2"></label>

    <input class="star star-1" id="star-1" type="radio" name="rating" value="1"/>

    <label class="star star-1" for="star-1"></label>

<button type="submit" class="btn btn-success float-right" style="margin-left:180px;width:380px">
<i class="fas fa-save"></i>&nbsp;Add Customer Reward  
</button>


</div>





<!-- Start:: Footer -->


</form> 

</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript">
function showDiv(divId, element)
{
document.getElementById(divId).style.display = element.value == 1 ? 'block' : 'block';
}

function Refresh() {
        window.parent.location = window.parent.location.href;
    }

</script>
{% endblock %}